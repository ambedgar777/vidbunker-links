<!DOCTYPE html>
<html>
<head>
  <title>Opening Video...</title>
  <meta charset="UTF-8" />
  <script>
    function openApp() {
      // Get the last part of the path as videoId
      const pathParts = window.location.pathname.split('/');
      const videoId = pathParts[pathParts.length - 1] || null;

      if (!videoId || videoId === "index.html") {
        document.body.innerHTML = '<p style="font-family:sans-serif;color:red;">Invalid or missing video ID.</p>';
        return;
      }

      const intentUrl = `intent://watch?id=${videoId}#Intent;scheme=vidbunker;package=com.uralshare.video.player;end`;
      const fallbackUrl = 'https://play.google.com/store/apps/details?id=com.uralshare.video.player';

      const a = document.createElement('a');
      a.href = intentUrl;
      document.body.appendChild(a);
      a.click();

      setTimeout(() => {
        window.location.href = fallbackUrl;
      }, 2000);
    }
  </script>
</head>
<body onload="openApp()" style="font-family: sans-serif;">
  <p>Redirecting to the Telegram Player app...</p>
</body>
</html>
